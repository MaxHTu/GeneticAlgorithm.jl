using Random
using GeneticAlgorithm

@testset "Initiation" begin
    @testset "binary" begin
        Random.seed!(1)
        @test initPop(5, [3], Bool) == Vector{Bool}[[0, 1, 1], [1, 1, 1], [1, 1, 1], [1, 0, 0], [0, 0, 1]]
        Random.seed!(1)
        res = initPop(5, [2,2], Bool)
        @test res == Matrix{Bool}[[0 1; 1 0], [1 1; 1 1], [1 1; 1 0], [1 0; 0 0], [0 1; 0 0]]
        @test res[1] == Bool[0 1; 1 0]
    end

    @testset "integer" begin
        Random.seed!(3)
        @test initPop(10, [2], Int64) == [[6267000709126231976, -752020297794852925], [-378361103774466, 1699208402690113145], [-5563058431158981988, 9154836786651653459], [-896193621528584160, -3762229235899926656], [-3753169820923148491, -9162340540106116468], [5836366391489204540, -1554044234018799800], [5704893757933731722, 4731243399555939585], [-1235799192184160462, 6500971678173778323], [8625927099945320662, 5058976203467469438], [-8331582424942347488, 6051005704270288794]]
        Random.seed!(4)
        @test initPop(5, [1], 0:100) == [[86], [94], [68], [50], [41]]
        Random.seed!(1)
        @test initPop(5, [3,3], -100:100) == [[-86 26 54; -30 83 56; 40 -62 34], [-67 -40 23; 14 -100 -61; -9 13 -98], [-38 25 -1; -77 -46 80; 9 69 -26], [74 -14 32; 74 -17 -31; 46 61 56], [-61 100 66; -12 31 -21; -98 -15 -13]]
    end

    @testset "float" begin
        Random.seed!(11)
        ip = initPop(10, [2], Float64)
        @test ip == [[0.5805097055341872, 0.7141387634631778], [0.8628475741689268, 0.702578655765535], [0.8616585501275508, 0.013014669814919055], [0.9198205736171892, 0.9013257192221112], [0.35264048746976995, 0.2807758176916674], [0.4488643154065569, 0.4952060011233692], [0.42264246266325467, 0.5692702072139225], [0.03447471861318008, 0.014011924665808473], [0.14124043662201824, 0.12334037427029321], [0.8583378849003599, 0.761869764844903]]
        Random.seed!(11)
        @test ip == initPop(10, [2], 0.0:1.0)
        Random.seed!(3)
        @test initPop(4, [3], -100.0:100.0) == [[-32.05304216197145, 91.84657959377623, 99.99589780069303], [-81.57714558297758, 39.6851996327363, -0.7430606716206398], [90.28344928571056, 59.20982889048818, 59.308051264480895], [0.6617048136493793, -36.72198878926021, 83.15101865338244]]
        Random.seed!(3)
        @test initPop(2, [3,3], 0.0:10.0) == [[7.444415203497275 9.949437221222748 6.515343944109812; 7.204350887971676 4.566763661898911 1.0200838159558046; 5.1690719447588105 2.93691044154932 9.881399062966393], [7.979276684725756 3.333797582089 4.790757694164668; 4.507653250363854 4.608691312510286 0.4361961488302779; 6.392194443680306 1.3578048961838118 7.243804746279329]]
    end
end